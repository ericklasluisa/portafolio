<section
  class="relative flex flex-col-reverse items-center max-w-screen-xl px-4 mx-auto md:flex-row p-14 md:py-[60px] md:px-20"
  id="contact"
>
  <div class="row items-center py-5 md:w-5/12 md:pb-20 md:pt-10">
    <div class="text-left space-y-3">
      <form class="ml-auo space-y-4">
        <input
          type="text"
          placeholder="Tu Nombre"
          id="nombre"
          name="nombre"
          class="w-full rounded-md py-2.5 px-4 border-[#5b60f4] border-2 placeholder:text-slate-400"
        />
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Tu Email"
          class="w-full rounded-md py-2.5 px-4 border-[#5b60f4] border-2 placeholder:text-slate-400"
        />
        <input
          type="text"
          id="asunto"
          name="asunto"
          placeholder="Asunto"
          class="w-full rounded-md py-2.5 px-4 border-[#5b60f4] border-2 placeholder:text-slate-400"
        />
        <textarea
          id="mensaje"
          name="mensaje"
          placeholder="¿Cómo puedo ayudarte?"
          rows="6"
          class="w-full rounded-md px-4 pt-2.5 border-[#5b60f4] border-2 placeholder:text-slate-400"
        ></textarea>
        <div class="grid grid-rows-1 grid-flow-col gap-2">
          <button
            type="button"
            id="btnEnviar"
            class="text-white bg-[#5b60f4] font-semibold rounded-md text-sm px-4 py-2.5 w-full flex items-center justify-center transition duration-300 ease-in-out hover:bg-[#4a4fda]"
            onclick="enviarFormulario()"
            >Ponte en Contacto
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="flex items-center py-5 md:w-6/12 md:pb-20 md:pt-10 md:pl-20">
    <div class="text-left space-y-3">
      <h2 class="text-4xl font-bold sm:text-4xl md:text-6xl">
        Ponte en <span
          class="text-white font-sans font-outline-sm md:font-outline"
          >contacto</span
        > conmigo
      </h2>
      <p class="text-base text-gray-600 pt-3">
        Si tienes alguna pregunta o simplemente quieres decir hola, estaré
        encantado de escucharte. También estoy disponible para trabajos y
        colaboraciones profesionales. Si tienes un proyecto en mente que te
        gustaría discutir, no dudes en ponerte en contacto conmigo. Estoy
        siempre abierto a nuevas ideas y oportunidades emocionantes
      </p>
      <p class="text-2xl font-medium md:pt-8">
        erickl1709@gmail.com <br />
        +593 98 234 7297
      </p>
    </div>
  </div>
</section>

<script is:inline>
  function enviarFormulario() {
    var nombre = document.getElementById("nombre").value;
    var email = document.getElementById("email").value;
    var asunto = document.getElementById("asunto").value;
    var mensaje = document.getElementById("mensaje").value;
    var btnEnviar = document.getElementById("btnEnviar");

    btnEnviar.innerHTML = `<div class="flex flex-row gap-2">
  <div class="w-3 h-3 rounded-full bg-white animate-bounce"></div>
  <div class="w-3 h-3 rounded-full bg-white animate-bounce [animation-delay:-.3s]"></div>
  <div class="w-3 h-3 rounded-full bg-white animate-bounce [animation-delay:-.5s]"></div>
</div>`;

    var formData = new FormData();
    formData.append("nombre", nombre);
    formData.append("email", email);
    formData.append("asunto", asunto);
    formData.append("mensaje", mensaje);

    fetch("https://formsubmit.co/ajax/erickl1709@gmail.com", {
      method: "POST",
      body: formData,
    })
      .then(function (response) {
        if (response.ok) {
          btnEnviar.disabled = true;
          btnEnviar.innerText = "Mensaje enviado";
          btnEnviar.classList.add("bg-[#22c55e]");
        } else {
          alert("Error al enviar el mensaje. Por favor, inténtalo de nuevo.");
        }
      })
      .catch(function (error) {
        console.log("Error:", error);
        alert(
          "Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo."
        );
      });
  }
</script>
